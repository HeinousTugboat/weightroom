<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/models/workout.ts</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="..\..\prettify.css" />
    <link rel="stylesheet" href="..\..\base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(..\..\sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="..\..\index.html">All files</a> / <a href="index.html">src/models</a> workout.ts
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">10.53% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>4/38</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/21</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/9</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">11.43% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>4/35</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import db from '../db';
import { exerciseJSON, exerciseSetJSON, weightUnit, workoutJSON } from './json-interfaces';
import Wrestler from './wrestler';
&nbsp;
export class Exercise {
<span class="fstat-no" title="function not covered" >    constructor(public <span class="cstat-no" title="statement not covered" ></span>name: string,</span> public <span class="cstat-no" title="statement not covered" >id: number = <span class="branch-0 cbranch-no" title="branch not covered" >-1)</span></span> { }
&nbsp;
    // This feels unnecessary since we're using NATURAL JOIN straight out of the database.
    // static list: Map&lt;string, Exercise&gt; = new Map;
    // static get(name: string, id: number): Exercise {
    //     let exercise = Exercise.list.get(name);
    //     if (exercise) return exercise;
    //     exercise = new Exercise(name, id);
    //     Exercise.list.set(name, exercise);
    //     return exercise;
    // }
&nbsp;
<span class="fstat-no" title="function not covered" >    toJSON</span>() {
<span class="cstat-no" title="statement not covered" >        return {</span>
            exercise_id: this.id,
            exercise_name: this.name
        }
    }
<span class="fstat-no" title="function not covered" >    static</span> fromJSON(json: exerciseJSON): Exercise {
<span class="cstat-no" title="statement not covered" >        return new Exercise(json.exercise_name, json.exercise_id);</span>
    }
}
&nbsp;
export class ExerciseSet {
    exercise: Exercise | undefined;
<span class="cstat-no" title="statement not covered" >    reps: number = 0;</span>
<span class="cstat-no" title="statement not covered" >    weight: number = 0;</span>
<span class="cstat-no" title="statement not covered" >    weightUnit: weightUnit = weightUnit.IMPERIAL;</span>
<span class="cstat-no" title="statement not covered" >    setNumber: number = -1;</span>
<span class="cstat-no" title="statement not covered" >    dirty: boolean = true;</span>
<span class="fstat-no" title="function not covered" >    constructor(public <span class="cstat-no" title="statement not covered" ></span>workout: Workout,</span> public <span class="cstat-no" title="statement not covered" >id: number = <span class="branch-0 cbranch-no" title="branch not covered" >-1)</span></span> { }
&nbsp;
<span class="fstat-no" title="function not covered" >    toJSON</span>() {
<span class="cstat-no" title="statement not covered" >        return {</span>
            exercise_set_id: this.id,
            exercise_id: (this.exercise &amp;&amp; this.exercise.id) || -1,
            workout_id: this.workout,
            exercise_reps: this.reps,
            exercise_weight: this.weight,
            exercise_weight_unit: this.weightUnit,
            set_number: this.setNumber
        }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    static</span> fromJSON(workout: Workout, json: exerciseSetJSON): ExerciseSet {
<span class="cstat-no" title="statement not covered" >        if (workout.id !== json.workout_id) {</span>
<span class="cstat-no" title="statement not covered" >            throw new TypeError(`Workout ID (${workout.id}) doesn't match set's Workout ID (${json.workout_id})! [set ${json.exercise_set_id}]`);</span>
        }
        let set = <span class="cstat-no" title="statement not covered" >new ExerciseSet(workout, json.exercise_set_id);</span>
<span class="cstat-no" title="statement not covered" >        set.reps = json.exercise_reps;</span>
<span class="cstat-no" title="statement not covered" >        set.weight = json.exercise_weight;</span>
<span class="cstat-no" title="statement not covered" >        set.setNumber = json.set_number;</span>
<span class="cstat-no" title="statement not covered" >        json.exercise_weight_unit &amp;&amp; (set.weightUnit = json.exercise_weight_unit);</span>
<span class="cstat-no" title="statement not covered" >        json.exercise_id &amp;&amp; json.exercise_name &amp;&amp; (set.exercise = new Exercise(json.exercise_name, json.exercise_id));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        return set;</span>
    }
&nbsp;
}
&nbsp;
export interface ExerciseBlock {
    exercise: Exercise | undefined;
    sets: ExerciseSet[];
}
&nbsp;
export class Workout {
    date: Date;
<span class="cstat-no" title="statement not covered" >    sets: ExerciseSet[] = [];</span>
<span class="cstat-no" title="statement not covered" >    dirty: boolean = true;</span>
    label: string;
    duration: Date;
    public exercises: ExerciseBlock[];
<span class="fstat-no" title="function not covered" >    constructor(public <span class="cstat-no" title="statement not covered" ></span>wrestler: Wrestler,</span> public <span class="cstat-no" title="statement not covered" >id: number = <span class="branch-0 cbranch-no" title="branch not covered" >-1)</span></span> { }
&nbsp;
<span class="fstat-no" title="function not covered" >    toJSON</span>(): workoutJSON {
<span class="cstat-no" title="statement not covered" >        return {</span>
            workout_id: this.id,
            wrestler_id: this.wrestler &amp;&amp; this.wrestler.id,
            workout_date: this.date,
            workout_duration: this.duration,
            workout_label: this.label
        }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    static</span> fromJSON(wrestler: Wrestler, json: workoutJSON): Workout {
<span class="cstat-no" title="statement not covered" >        if (wrestler.id !== json.wrestler_id) {</span>
<span class="cstat-no" title="statement not covered" >            throw new TypeError(`Wrestler ID (${wrestler.id}) doesn't match Workout ID (${json.wrestler_id})! [workout ${json.workout_id}]`);</span>
        }
        let workout = <span class="cstat-no" title="statement not covered" >new Workout(wrestler, json.workout_id);</span>
<span class="cstat-no" title="statement not covered" >        workout.date = json.workout_date;</span>
<span class="cstat-no" title="statement not covered" >        json.workout_duration &amp;&amp; (workout.duration = json.workout_duration);</span>
<span class="cstat-no" title="statement not covered" >        json.workout_label &amp;&amp; (workout.label = json.workout_label);</span>
        // json.routine_id
        // json.routine_template_id
&nbsp;
<span class="cstat-no" title="statement not covered" >        workout.dirty = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        return workout;</span>
    }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Mon Sep 04 2017 15:13:19 GMT-0400 (Eastern Daylight Time)
</div>
</div>
<script src="..\..\prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="..\..\sorter.js"></script>
</body>
</html>
